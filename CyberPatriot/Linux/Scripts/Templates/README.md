# Linux Script Templates for Security Tasks

This directory provides foundational Bash script templates specifically designed for CyberPatriot competitors working with Linux systems (Ubuntu/Mint). These templates aim to teach scripting for security automation and offer a starting point that can be adapted for various competition challenges.

## Purpose of These Templates

1.  **Learning Tool**: Understand how Bash scripting can automate security checks and configurations.
2.  **Foundation**: Provide a basic structure for common security tasks, reducing the need to start from scratch.
3.  **Customizable**: Designed to be modified and expanded based on specific competition requirements and individual learning.

## How to Use

1.  **Download**: Get the `.sh` script files onto your Linux VM.
2.  **Review**: Carefully read the script comments and commands to understand its purpose and actions. **Never run scripts you don't understand.**
3.  **Modify**: Adapt the script variables, checks, and commands to fit the specific scenario or competition image. Add or remove sections as needed.
4.  **Test**: Run the script in a safe, non-critical environment (like your practice VM) first. Use `bash -x scriptname.sh` for debugging.
5.  **Execute**: Run the finalized script with appropriate permissions, usually requiring `sudo`.

## Important Considerations

-   **Understand Before Running**: Always review the script's logic before execution.
-   **Permissions**: Most security scripts need `sudo` or root privileges.
-   **Test Environment**: Practice using these templates on non-competition VMs first.
-   **Adaptation**: Modify parameters, file paths, and logic for each unique system.
-   **Output**: Pay attention to the reports or logs generated by the scripts.

## Available Templates

### System_Security_Audit.sh

This template performs a broad security assessment of a Linux system.

**Core Functions:**
-   Examines user account configurations and policies.
-   Checks running services and common network settings.
-   Audits critical file permissions.
-   Looks for common system hardening settings.
-   Identifies potentially unauthorized software or files.
-   Generates a summary report highlighting potential issues.

**How to Use:**
```bash
# Review and customize the script first
sudo bash ./System_Security_Audit.sh
```

### User_Account_Audit.sh (Example - Create if needed)

*This template focuses specifically on user and group security.*

**Core Functions:**
-   Lists local users and their status.
-   Checks password policies and aging.
-   Identifies members of critical groups (like `sudo`).
-   Flags accounts with potential security risks (e.g., UID 0, empty passwords).

**How to Use:**
```bash
# Review and customize
sudo bash ./User_Account_Audit.sh
```

### Service_Hardening_Helper.sh (Example - Create if needed)

*This template assists in identifying and managing system services.*

**Core Functions:**
-   Lists active and enabled services.
-   Flags potentially insecure or unnecessary services (e.g., telnet, ftp).
-   Provides commands to disable services.

**How to Use:**
```bash
# Review and customize
sudo bash ./Service_Hardening_Helper.sh
```

## Script Troubleshooting Tips

- If a script fails, read the error message and check which line failed.
- Use `bash -x scriptname.sh` to see each command as it runs.
- Add `set -e` at the top to make the script stop on errors (good for debugging).
- Always test scripts on a disposable VM before using them in competition.

## Script Safety Checklist

- [ ] Did you review every command in the script?
- [ ] Does the script require `sudo`? If so, run with care.
- [ ] Does the script make backups before changing files?
- [ ] Is there clear output so you know what happened?
- [ ] Did you test the script on a non-critical system?

## Learning Scripting for Security

-   Start by understanding the basic commands used in the templates (`grep`, `awk`, `find`, `systemctl`, `chmod`, `useradd`, etc.).
-   Learn Bash control structures (`if`, `for`, `while`) to add logic.
-   Practice modifying the templates to add new checks based on the security guides.
-   Focus on creating scripts that are *idempotent* (safe to run multiple times without causing problems).

## Extending These Templates

Cadets are encouraged to:
-   Add more specific checks relevant to CyberPatriot tasks.
-   Improve reporting and output formatting.
-   Add error handling for more robust scripts.
-   Combine functionalities from different templates into a master script.

## Sharing Improvements

Consider contributing improvements back to your team's shared repository to benefit everyone.

## Additional Resources

-   [Bash Scripting Basics Guide](../../Guides/Intermediate/Bash_Scripting_Basics.md)
-   [Linux Command Line Reference](https://linuxcommand.org/)
-   [CyberPatriot Linux Checklists](../../Checklists/Linux/README.md)
